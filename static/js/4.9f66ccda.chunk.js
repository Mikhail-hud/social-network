(this.webpackJsonpmy_app=this.webpackJsonpmy_app||[]).push([[4],{334:function(e,t,a){e.exports={"ant-btn-round":"ProfileInfo_ant-btn-round__2quPA","ant-btn":"ProfileInfo_ant-btn__wPPDo","ant-btn-lg":"ProfileInfo_ant-btn-lg__2yRhX","ant-comment-avatar":"ProfileInfo_ant-comment-avatar__2ZCMu","ant-btn-dashed":"ProfileInfo_ant-btn-dashed__sQx30","ant-list-split":"ProfileInfo_ant-list-split__3cjZo","ant-list-item":"ProfileInfo_ant-list-item___FoRZ","ant-list-vertical":"ProfileInfo_ant-list-vertical__3OF6E","ant-list-item-action":"ProfileInfo_ant-list-item-action__1xzNM","ant-list-item-extra":"ProfileInfo_ant-list-item-extra__c93JE","ant-list-item-action-split":"ProfileInfo_ant-list-item-action-split__2p2oY","ant-layout":"ProfileInfo_ant-layout__JEzgG","ant-layout-content":"ProfileInfo_ant-layout-content__36m7g","ant-list-item-meta-content":"ProfileInfo_ant-list-item-meta-content__1La3P","ant-drawer-title":"ProfileInfo_ant-drawer-title__L1w-W","ant-btn-primary":"ProfileInfo_ant-btn-primary__1eSYx",thinScrollBar:"ProfileInfo_thinScrollBar__2Kzhq","send-message-form":"ProfileInfo_send-message-form__1VL7A",profile_card:"ProfileInfo_profile_card__2FAl0",profile_data:"ProfileInfo_profile_data__3gr5y"}},335:function(e,t,a){e.exports=a.p+"static/media/github.549cf7b4.svg"},336:function(e,t,a){e.exports=a.p+"static/media/facebook.7f4357e1.svg"},337:function(e,t,a){e.exports=a.p+"static/media/vk.83bd7ad2.svg"},338:function(e,t,a){e.exports=a.p+"static/media/mainLink.2b0eb018.svg"},339:function(e,t,a){e.exports=a.p+"static/media/youtube.18f3221d.svg"},340:function(e,t,a){e.exports=a.p+"static/media/instagram.fa06bfe9.svg"},341:function(e,t,a){e.exports=a.p+"static/media/twitter.87557f42.svg"},342:function(e,t,a){e.exports=a.p+"static/media/website.9e0f713e.svg"},343:function(e,t,a){e.exports=a.p+"static/media/updateLogo.8ab220ae.svg"},344:function(e,t,a){e.exports={"ant-btn-round":"ProfileStatus_ant-btn-round__3Rew2","ant-btn":"ProfileStatus_ant-btn__2byL6","ant-btn-lg":"ProfileStatus_ant-btn-lg__3faI1","ant-comment-avatar":"ProfileStatus_ant-comment-avatar__3Fo1U","ant-btn-dashed":"ProfileStatus_ant-btn-dashed__GdkDl","ant-list-split":"ProfileStatus_ant-list-split__1zrCw","ant-list-item":"ProfileStatus_ant-list-item__JPScQ","ant-list-vertical":"ProfileStatus_ant-list-vertical__2wXJP","ant-list-item-action":"ProfileStatus_ant-list-item-action__1LvZC","ant-list-item-extra":"ProfileStatus_ant-list-item-extra__JBE1q","ant-list-item-action-split":"ProfileStatus_ant-list-item-action-split__1xtQS","ant-layout":"ProfileStatus_ant-layout___ouTM","ant-layout-content":"ProfileStatus_ant-layout-content__3x7l9","ant-list-item-meta-content":"ProfileStatus_ant-list-item-meta-content__InB9m","ant-drawer-title":"ProfileStatus_ant-drawer-title__2eGfp","ant-btn-primary":"ProfileStatus_ant-btn-primary__1MiuL",thinScrollBar:"ProfileStatus_thinScrollBar__2nJ6w","send-message-form":"ProfileStatus_send-message-form__63cYP",status:"ProfileStatus_status__2UR8u",status_active:"ProfileStatus_status_active__32MQz"}},348:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(25),o=a(148),r=a(147),s=a(334),c=a(100),u=a.n(c),m=a(335),f=a.n(m),d=a(336),p=a.n(d),_=a(337),b=a.n(_),E=a(338),P=a.n(E),g=a(339),h=a.n(g),k=a(340),v=a.n(k),y=a(341),O=a.n(y),j=a(342),S=a.n(j),w=a(343),x=a.n(w),I=a(112),C=a(149),A=a(344),L=a.n(A),D=a(4),F=a.n(D),M=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),i=a[0],o=a[1],s=Object(n.useState)(e.status),c=Object(r.a)(s,2),u=c[0],m=c[1];Object(n.useEffect)((function(){m(e.status)}),[e.status]);return l.a.createElement("div",{className:F()(L.a.status,Object(C.a)({},L.a.status_active,e.isOwner))},i?l.a.createElement("div",null,l.a.createElement("input",{type:"text",onChange:function(e){m(e.target.value)},autoFocus:!0,defaultValue:u,onBlur:function(){o(!1),e.updateStatus(u)}})):l.a.createElement("div",null,l.a.createElement("span",{onDoubleClick:function(){e.isOwner&&o(!0)}},u||"Dubl click to change your status!!!")))},J=a(7),N=a(194),Y=a(350),B=a(309),V=a(313),q=a(315),z=a(96),T=a(22),R=a(197),Q={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}}},Z=function(e){var t=e.profile,a=e.editMode,n=e.setEditMode,i=Object(T.c)(),s=Object(T.d)((function(e){return e.profilePage.error}));s&&console.log(s);return l.a.createElement(Y.a,{title:"Profile Details",width:"70%",onClose:function(){return n(!1)},visible:a,bodyStyle:{paddingBottom:"2rem"}},l.a.createElement(B.a,Object.assign({},Q,{onFinish:function(e){i(Object(o.i)(e)).then((function(){n(!1)})).catch((function(e){Object.values(e).map((function(e){return N.a.open({duration:10,description:"Please check out fields and try again!",message:e,icon:l.a.createElement(R.a,{style:{color:"red"}})})}))}))}}),l.a.createElement(B.a.Item,{initialValue:t.fullName,name:"fullName",label:"Your full name:",rules:[{required:!0,message:"Please enter your full name."}]},l.a.createElement(V.a,{placeholder:"Don't forget to write your full name."})),l.a.createElement(B.a.Item,{initialValue:t.aboutMe,name:"aboutMe",label:"Describe Yourself",rules:[{required:!0,message:"Please describe Yourself."}]},l.a.createElement(V.a.TextArea,{rows:2,placeholder:"How would you describe yourself?"})),l.a.createElement(B.a.Item,{initialValue:t.lookingForAJobDescription,name:"lookingForAJobDescription",label:"Your skills",rules:[{required:!0,message:"Please indicate your skills."}]},l.a.createElement(V.a.TextArea,{rows:2,placeholder:"Please indicate your skills."})),l.a.createElement(B.a.Item,{name:"lookingForAJob",label:"Looking for a job",valuePropName:"checked",initialValue:t.lookingForAJob},l.a.createElement(q.a,null)),Object.entries(t.contacts).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return l.a.createElement(B.a.Item,{name:["contacts","".concat(a)],label:a,initialValue:n,key:a},l.a.createElement(V.a,{placeholder:"Please indicate url to your network"}))})),l.a.createElement(B.a.Item,{wrapperCol:Object(J.a)(Object(J.a)({},Q.labelCol),{},{offset:8})},l.a.createElement(z.a,{type:"primary",style:{marginRight:"1rem"},htmlType:"submit"},"Save"),l.a.createElement(z.a,{onClick:function(){return n(!1)},type:"primary"},"Cancel"))))},G=a(85),H=a(51),U=a(54),X=a(198),K=function(e){var t=e.profile,a=t.fullName,n=t.aboutMe,i=t.lookingForAJob,o=t.lookingForAJobDescription,c=t.contacts,u={github:f.a,facebook:p.a,vk:b.a,mainLink:P.a,youtube:h.a,instagram:v.a,twitter:O.a,website:S.a};return l.a.createElement(H.a,{xs:24,className:s.profile_data},l.a.createElement("h2",null,a),n&&l.a.createElement("p",null,l.a.createElement("b",null,"About me:")," ",n),l.a.createElement("p",null,l.a.createElement("b",null,"Looking for a job:")," ",i?"Yes!":"No !"),i&&l.a.createElement("p",null,l.a.createElement("b",null,"My skills:")," ",o),Object.entries(c).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return n?l.a.createElement("a",{href:n,key:a},l.a.createElement("img",{src:u[a],alt:"social-icon"})):null})))},W=function(e){var t,a=e.profile,i=e.savePhoto,o=e.isOwner,c=e.status,m=e.updateStatus,f=Object(n.useState)(!1),d=Object(r.a)(f,2),p=d[0],_=d[1];if(!a)return l.a.createElement(I.a,null);return l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a,{className:s.profile_card},l.a.createElement(H.a,{style:{position:"absolute",top:"18px",right:"20px"}},o&&l.a.createElement(z.a,{type:"primary",shape:"round",icon:l.a.createElement(X.a,null),onClick:function(){_(!0)}},"Edit profile!")),l.a.createElement(H.a,null,l.a.createElement("img",{src:null!==(t=a.photos.large)&&void 0!==t?t:u.a,alt:"avatar"}),o&&l.a.createElement(U.a,{title:"Upload your photo!"},l.a.createElement("label",null,l.a.createElement("img",{src:x.a,alt:"update-logo"}),l.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&i(e.target.files[0])}})))),l.a.createElement(H.a,null,l.a.createElement(M,{status:c,updateStatus:m,isOwner:o}))),l.a.createElement(G.a,null,l.a.createElement(Z,{initialValues:a,editMode:p,setEditMode:_,profile:a}),l.a.createElement(K,{profile:a,isOwner:o})))},$=a(58),ee=function(){N.a.open({duration:10,message:"You are not authorized to perform this action.",description:"For test use email: free@samuraijs.com. Password: free",icon:l.a.createElement(R.a,{style:{color:"red"}})})},te=a(347),ae=a(351),ne=a(345),le=a.n(ne),ie=a(353),oe=a(354),re=a(355),se=a(356),ce=a(357),ue=function(e){var t,a,i=e.massage,o=e.likesCount,s=e.dislikesCount,c=e.deletePost,m=e.addLike,f=e.id,d=e.addDislike,p=e.profile,_=e.isAuth,b=Object(n.useState)(null),E=Object(r.a)(b,2),P=E[0],g=E[1],h=[l.a.createElement(U.a,{key:"comment-basic-like",title:"Like"},l.a.createElement("span",{onClick:function(){m(f),g("liked")}},"liked"===P?l.a.createElement(ie.a,null):l.a.createElement(oe.a,null),l.a.createElement("span",{className:"comment-action"},o))),l.a.createElement(U.a,{key:"comment-basic-dislike",title:"Dislike"},l.a.createElement("span",{onClick:function(){d(f),g("disliked")}},"disliked"===P?l.a.createElement(re.a,null):l.a.createElement(se.a,null),l.a.createElement("span",{className:"comment-action"},s))),l.a.createElement("span",{key:"comment-basic-reply-to"},"Reply to"),l.a.createElement("span",{key:"comment-basic-reply-to",onClick:function(){_?c(f):ee()}},"Delete",l.a.createElement(ce.a,null))];return l.a.createElement(te.a,{actions:h,author:null===p||void 0===p?void 0:p.fullName,avatar:l.a.createElement(ae.a,{src:null!==(t=null===p||void 0===p||null===(a=p.photos)||void 0===a?void 0:a.small)&&void 0!==t?t:u.a,alt:"photos.small"}),content:l.a.createElement("p",null,i),datetime:l.a.createElement(U.a,{title:le()().format("YYYY-MM-DD HH:mm:ss")},l.a.createElement("span",null,le()().fromNow()))})},me=a(331),fe=a(310),de=a(352),pe=function(e){var t,a,n=e.isAuth,i=e.addPost,o=fe.a.Text,r=Object(me.a)(),s=r.register,c=r.handleSubmit,u=r.errors,m=r.reset;return l.a.createElement(G.a,null,l.a.createElement(H.a,{xs:24},l.a.createElement("form",{onSubmit:c((function(e){var t=e.newPost;n?(i(t),m()):ee()})),className:"send-message-form",autoComplete:"off"},"maxLength"===(null===(t=u.newPost)||void 0===t?void 0:t.type)&&l.a.createElement(o,{type:"danger"},"The character limit for a single message is 100 characters"),l.a.createElement("textarea",{rows:"2",name:"newPost",ref:s({required:!0,maxLength:100})}),l.a.createElement(z.a,{disabled:"maxLength"===(null===(a=u.newPost)||void 0===a?void 0:a.type),htmlType:"submit",type:"dashed",shape:"round",size:"large",icon:l.a.createElement(de.a,null)},"Post"))))},_e=function(e){var t=e.posts,a=e.addLike,n=e.addPost,i=e.deletePost,o=e.addDislike,r=e.profile,s=e.isAuth,c=Object($.a)(t).reverse().map((function(e){return l.a.createElement(ue,{isAuth:s,massage:e.message,likesCount:e.likesCount,dislikesCount:e.dislikesCount,key:e.id,id:e.id,profile:r,addDislike:o,addLike:a,deletePost:i})}));return l.a.createElement(G.a,null,l.a.createElement("h2",null,"My posts"),l.a.createElement(H.a,{xs:24},c),l.a.createElement(H.a,{xs:24},l.a.createElement(pe,{addPost:n,isAuth:s})))},be=function(e){var t=e.profile,a=e.status,n=e.updateStatus,i=e.isOwner,o=e.savePhoto,r=e.deletePost,s=e.addLike,c=e.addPost,u=e.posts,m=e.addDislike,f=e.isAuth;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Profile"),l.a.createElement(W,{isAuth:f,profile:t,status:a,updateStatus:n,isOwner:i,savePhoto:o}),l.a.createElement(_e,{isAuth:f,profile:t,deletePost:r,addLike:s,addPost:c,posts:u,addDislike:m}))};t.default=Object(i.h)((function(e){var t,a,i=Object(T.c)(),r=Object(T.d)((function(e){return e.profilePage.profile})),s=Object(T.d)((function(e){return e.profilePage.status})),c=Object(T.d)((function(e){return e.auth.id})),u=Object(T.d)((function(e){return e.profilePage.posts})),m=Object(T.d)((function(e){return e.auth.isAuth})),f=null!==(t=null!==(a=e.match.params.userId)&&void 0!==a?a:c)&&void 0!==t?t:e.history.push("/login");return Object(n.useEffect)((function(){i(Object(o.g)(f)),i(Object(o.f)(f))}),[i,f]),l.a.createElement(l.a.Fragment,null,l.a.createElement(be,{isAuth:m,addDislike:function(e){i(Object(o.a)(e))},addPost:function(e){i(Object(o.c)(e))},addLike:function(e){i(Object(o.b)(e))},deletePost:function(e){i(Object(o.e)(e))},profile:r,status:s,posts:u,updateStatus:function(e){i(Object(o.j)(e))},isOwner:!e.match.params.userId,savePhoto:function(e){i(Object(o.h)(e))}}))}))}}]);
//# sourceMappingURL=4.9f66ccda.chunk.js.map