{"version":3,"sources":["assets/img/logo.png","common/Preloder/Preloader.js","component/Users/User/User.module.scss","redux/profile-reducer.js","redux/dialogs-reducer.js","hoc/withAuthRedirect.js","component/Friends/Friend/Friend.module.scss","component/Sidebar/Sidebar.module.scss","api/api.js","serviceWorker.js","redux/sidebar-reducer.js","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/friends-reducer.js","redux/redux-store.js","common/Paginator/Paginator.js","component/Users/User/User.js","component/Users/UsersPage.js","component/Users/UsersContainer.js","component/Header/HeaderPage.js","component/Header/HeaderContainer.js","component/Friends/Friend/Friend.js","component/Friends/FriendsPage.js","component/Friends/FriendsContainer.js","component/Login/LoginForm.js","component/Login/LoginContainer.js","component/Sidebar/Navigation/Navigation.js","component/Sidebar/Sidebar.js","hoc/withSuspense.js","component/App/App.js","index.js"],"names":["module","exports","Preloader","style","position","left","top","size","tip","initialState","posts","id","message","likesCount","dislikesCount","profile","status","error","addPost","newPostText","type","deletePost","setStatus","addLike","addDislike","getUserProfile","userId","dispatch","a","profileAPI","getProfile","response","data","getStatus","updateStatus","resultCode","savePhoto","file","photos","saveProfile","getState","auth","payload","messages","Promise","reject","profileReducer","state","action","rand","Math","random","newPost","filter","post","map","item","initialstate","dialogs","name","sendMessage","newMessage","dialogsReducer","mapStateToPropsForRedirect","isAuth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","Axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","getFriends","unfollow","delete","follow","put","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","Boolean","window","location","hostname","match","sidebarReducer","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","user","followed","captchaUrl","getAuthUserData","setAuthUserData","url","getCaptchaUrlSuccess","setNonFieldError","authReducer","initialized","initializedSuccess","appReducer","friends","pageSizeFriends","totalFriendsCount","currentPageFriends","isFetchingFriends","unFollowingInProgress","toggleUnFollowingProgress","friendId","friendReducer","friend","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Paginator","totalItemsCount","onSetCurrentPage","onChangePageSize","justify","responsive","disabled","textAlign","marginBottom","pageSizeOptions","current","total","onShowSizeChange","__","showSizeChanger","onChange","showQuickJumper","showTotal","range","User","onUnfollow","onFollow","xs","sm","md","lg","xl","xxl","className","user_list","itemLayout","dataSource","renderItem","Item","key","actions","follow_button","onClick","some","shape","icon","UserDeleteOutlined","UserAddOutlined","GithubOutlined","MessageOutlined","extra","width","borderRadius","alt","src","small","logo","loading","active","Meta","title","description","Users","memo","UsersContainer","useDispatch","useSelector","useEffect","items","totalCount","requestUsers","UsersPage","bind","changePageSize","setCurrentPage","HeaderPage","history","useHistory","onLogout","background","push","LogoutOutlined","LoginOutlined","Header","Layout","boxShadow","padding","margin","lineHeight","display","alignItems","HeaderContainer","Card","Friend","onUnFollowFriend","justifyContent","friend_card","hoverable","maxWidth","flexDirection","cover","large","onConfirm","okText","cancelText","Friends","requestFriends","changePageSizeFriends","setCurrentPageFriends","Text","Typography","layout","labelCol","span","wrapperCol","tailLayout","offset","LoginForm","onLogin","clearError","notification","open","duration","InfoCircleOutlined","color","openNotification","marginTop","initialValues","onFinish","values","onFinishFailed","errorInfo","console","log","label","rules","required","prefix","SortDescendingOutlined","strong","autoComplete","UserOutlined","Password","LockOutlined","valuePropName","htmlType","LoginContainer","length","navStyle","fontSize","iconStyle","navigationLinks","slug","TeamOutlined","UsergroupAddOutlined","Navigation","theme","mode","defaultSelectedKeys","Sider","Sidebar","useState","collapsed","setCollapsed","trigger","collapsible","createElement","MenuUnfoldOutlined","MenuFoldOutlined","withSuspense","Suspense","fallback","Content","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","promiseRejectionEven","initializeApp","addEventListener","removeEventListener","exact","path","render","AppContainer","withRouter","promise","all","MainApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.36c22578.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ad897913.png\";","import React from 'react';\r\nimport { Spin} from 'antd';\r\n\r\nconst Preloader = () => {\r\n  return (\r\n      <Spin style={{position:'absolute', left:'50%', top: '0.2%'}} size=\"large\" tip=\"Loading...\" />\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ant-btn-round\":\"User_ant-btn-round__14K-O\",\"ant-btn\":\"User_ant-btn__tQ-oG\",\"ant-btn-lg\":\"User_ant-btn-lg__1ZrX-\",\"ant-comment-avatar\":\"User_ant-comment-avatar__2kM_4\",\"ant-btn-dashed\":\"User_ant-btn-dashed__2tcKq\",\"ant-list-split\":\"User_ant-list-split__37RHl\",\"ant-list-item\":\"User_ant-list-item__1aJip\",\"ant-list-vertical\":\"User_ant-list-vertical__18W7M\",\"ant-list-item-action\":\"User_ant-list-item-action__2N-vp\",\"ant-list-item-extra\":\"User_ant-list-item-extra__VFUkO\",\"ant-list-item-action-split\":\"User_ant-list-item-action-split__3CkOX\",\"ant-layout\":\"User_ant-layout__2QFNg\",\"ant-layout-content\":\"User_ant-layout-content__16pR2\",\"ant-list-item-meta-content\":\"User_ant-list-item-meta-content__2Zrrr\",\"ant-drawer-title\":\"User_ant-drawer-title__3k8Wg\",\"ant-btn-primary\":\"User_ant-btn-primary__Aay2X\",\"thinScrollBar\":\"User_thinScrollBar__32AvM\",\"send-message-form\":\"User_send-message-form__1uy8R\",\"user_list\":\"User_user_list__jp002\",\"follow_button\":\"User_follow_button__1ii9R\"};","import { profileAPI } from './../api/api';\r\nconst ADD_POST = 'ADD-POST';\r\nconst DELETE_POST = 'DELETE-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE-PHOTO-SUCCESS';\r\nconst ADD_LIKE = 'ADD-LIKE';\r\nconst ADD_DISLIKE = 'ADD-DISLIKE';\r\nconst SET_NON_FIELD_ERROR = '/PROFILE-SET-NON-FIELD-ERROR';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {\r\n      id: 1,\r\n      message: 'React.Js, - a JavaScript library for building user interfaces',\r\n      likesCount: 1,\r\n      dislikesCount: 10,\r\n    },\r\n    {\r\n      id: 2,\r\n      message: 'React makes it painless to create interactive UIs.',\r\n      likesCount: 6,\r\n      dislikesCount: 20,\r\n    },\r\n    {\r\n      id: 3,\r\n      message:\r\n        'Build encapsulated components that manage their own state, then compose them to make complex UIs.',\r\n      likesCount: 2,\r\n      dislikesCount: 2,\r\n    },\r\n    {\r\n      id: 4,\r\n      message:\r\n        'We donâ€™t make assumptions about the rest of your technology stack, so you can develop new features in React without rewriting existing code',\r\n      likesCount: 7,\r\n      dislikesCount: 0,\r\n    },\r\n    { id: 5, message: 'Have a good day!!!!', likesCount: 5, dislikesCount: 4 },\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n  error: null,\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let rand = 10 + Math.random() * (99 + 1 - 10);\r\n      let newPost = {\r\n        id: rand,\r\n        message: action.newPostText,\r\n        likesCount: 0,\r\n        dislikesCount: 0,\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: '',\r\n      };\r\n    }\r\n\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((post) => {\r\n          if (post.id !== action.id) {\r\n            return {\r\n              ...post,\r\n            };\r\n          }\r\n          return null;\r\n        }),\r\n      };\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    }\r\n\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    }\r\n\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos },\r\n      };\r\n    }\r\n\r\n    case ADD_LIKE: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((item) => {\r\n          if (item.id === action.id && item.dislikesCount > 0) {\r\n            return {\r\n              ...item,\r\n              likesCount: item.likesCount + 1,\r\n              dislikesCount: item.dislikesCount - 1,\r\n            };\r\n          } else if (item.id === action.id) {\r\n            return {\r\n              ...item,\r\n              likesCount: item.likesCount + 1,\r\n            };\r\n          }\r\n          return item;\r\n        }),\r\n      };\r\n    }\r\n\r\n    case ADD_DISLIKE: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.map((item) => {\r\n          if (item.id === action.id && item.likesCount > 0) {\r\n            return {\r\n              ...item,\r\n              dislikesCount: item.dislikesCount + 1,\r\n              likesCount: item.likesCount - 1,\r\n            };\r\n          } else if (item.id === action.id) {\r\n            return {\r\n              ...item,\r\n              dislikesCount: item.dislikesCount + 1,\r\n            };\r\n          }\r\n          return item;\r\n        }),\r\n      };\r\n    }\r\n    case SET_NON_FIELD_ERROR: {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const deletePost = (id) => ({ type: DELETE_POST, id });\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile: profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status: status });\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos: photos });\r\nexport const addLike = (id) => ({ type: ADD_LIKE, id });\r\nexport const addDislike = (id) => ({ type: ADD_DISLIKE, id });\r\nexport const setNonFieldError = (error) => ({ type: SET_NON_FIELD_ERROR, payload: { error } });\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getProfile(userId);\r\n  dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  const response = await profileAPI.savePhoto(file);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.id;\r\n  const response = await profileAPI.saveProfile(profile);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getUserProfile(userId));\r\n  } else {\r\n    dispatch(setNonFieldError(response.data.messages))\r\n    return Promise.reject(response.data.messages);\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","const SEND_MESAAGE = 'SEND-MESSAGE';\r\n\r\nlet initialstate = {\r\n  dialogs: [\r\n    { id: 1, name: 'Dimich' },\r\n    { id: 2, name: 'Tany' },\r\n    { id: 3, name: 'Oleg' },\r\n    { id: 4, name: 'Kirilh' },\r\n    { id: 5, name: 'Pahsa' },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: 'Hello' },\r\n    { id: 2, message: 'How was your day7' },\r\n    { id: 3, message: 'Not bad' },\r\n    { id: 4, message: 'Thanks' },\r\n    { id: 5, message: 'have a good day' },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialstate, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESAAGE:\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 8, message: action.payload }],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const sendMessage = (newMessage) => ({ type: SEND_MESAAGE, payload: newMessage });\r\n\r\nexport default dialogsReducer;\r\n","import {Redirect} from 'react-router';\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n     isAuth: state.auth.isAuth,\r\n    } \r\n  };\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  \r\n  let ConnectedAuthRedirectComponent = connect (mapStateToPropsForRedirect) (RedirectComponent)\r\n  \r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ant-btn-round\":\"Friend_ant-btn-round__1wPEl\",\"ant-btn\":\"Friend_ant-btn__3nmRu\",\"ant-btn-lg\":\"Friend_ant-btn-lg__3sR8I\",\"ant-comment-avatar\":\"Friend_ant-comment-avatar__39S4Z\",\"ant-btn-dashed\":\"Friend_ant-btn-dashed__1oR0J\",\"ant-list-split\":\"Friend_ant-list-split__Vnax2\",\"ant-list-item\":\"Friend_ant-list-item__1KwtP\",\"ant-list-vertical\":\"Friend_ant-list-vertical__HK4pB\",\"ant-list-item-action\":\"Friend_ant-list-item-action__peNed\",\"ant-list-item-extra\":\"Friend_ant-list-item-extra__X40ZE\",\"ant-list-item-action-split\":\"Friend_ant-list-item-action-split__3Anlh\",\"ant-layout\":\"Friend_ant-layout__YPQzd\",\"ant-layout-content\":\"Friend_ant-layout-content__2_S5W\",\"ant-list-item-meta-content\":\"Friend_ant-list-item-meta-content__23ypf\",\"ant-drawer-title\":\"Friend_ant-drawer-title__2cMcQ\",\"ant-btn-primary\":\"Friend_ant-btn-primary__2IlNe\",\"thinScrollBar\":\"Friend_thinScrollBar__p5IMc\",\"send-message-form\":\"Friend_send-message-form__2dC86\",\"friend_card\":\"Friend_friend_card__28gZJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"trigger\":\"Sidebar_trigger__Rp1yr\"};","import Axios from \"axios\";\r\n\r\nconst instance = Axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"785356f0-bfad-453c-883d-856e6d5db0d2\",\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n\r\n  getFriends(currentPage, pageSize) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}&friend=${true}`)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n  unfollow(id) {\r\n    return instance.delete(`follow/${id}`);\r\n  },\r\n\r\n  follow(id) {\r\n    return instance.post(`follow/${id}`);\r\n  },\r\n};\r\n\r\n\r\nexport const profileAPI = {\r\n  \r\n  getProfile(id) {\r\n    return instance.get(`profile/${id}`);\r\n  },\r\n\r\n  getStatus(id) {\r\n    return instance.get(`profile/status/${id}`)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status/`, {status:status})\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData()\r\n    formData.append(\"image\", photoFile)\r\n    return instance.put(`profile/photo/`, formData, {\r\n      headers : {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n  },\r\n\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile)\r\n  }\r\n};\r\n\r\nexport const authAPI = {\r\n \r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance.post(`auth/login`, {email,password,rememberMe, captcha});\r\n  },\r\n\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n\r\n};\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`);\r\n  },\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default sidebarReducer;\r\n","import { usersAPI } from './../api/api';\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UN-FOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FETCHING-FOLLOWING-PROGRESS';\r\nconst CHANGE_PAGE_SIZE = 'CHANGE-PAGE-SIZE';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: true };\r\n          }\r\n          return user;\r\n        }),\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return {\r\n              ...user,\r\n              followed: false,\r\n            };\r\n          }\r\n          return user;\r\n        }),\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n        isFetching: true,\r\n      };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalUsersCount,\r\n      };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n    case CHANGE_PAGE_SIZE:\r\n      return {\r\n        ...state,\r\n        pageSize: action.pageSize,\r\n        isFetching: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  totalUsersCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\nexport const changePageSize = (pageSize) => ({ type: CHANGE_PAGE_SIZE, pageSize });\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    // dispatch(toggleIsFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n  };\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let response = await apiMethod(userId);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n  };\r\n};\r\n\r\nexport const unFollow = (userId) => {\r\n  return (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n  };\r\n};\r\n\r\nexport default usersReducer;\r\n","\r\nimport {authAPI, securityAPI} from './../api/api'\r\nconst SET_USER_DATA = '/AUTH/SET-USER-DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = '/AUTH/GET-CAPTCHA-URL'\r\nconst SET_NON_FIELD_ERROR = '/AUTH/SET-NON-FIELD-ERROR'\r\n\r\nlet initialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n  error:null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA: {\r\n        return {\r\n            ...state,\r\n            ...action.payload\r\n      };\r\n    }\r\n    case GET_CAPTCHA_URL_SUCCESS: {\r\n      return {\r\n          ...state,\r\n          ...action.payload\r\n    };\r\n  }\r\n  case SET_NON_FIELD_ERROR: {\r\n    return {\r\n      ...state,\r\n      ...action.payload\r\n    }\r\n  }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getAuthUserData = () =>  async(dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n      let {id, login, email} = response.data.data;\r\n      dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async(dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(getAuthUserData())\r\n      dispatch(setNonFieldError(null))\r\n      dispatch(getCaptchaUrlSuccess(null))\r\n    } else {\r\n      if (response.data.resultCode === 10) {\r\n        dispatch(getCaptchaUrl())\r\n      }\r\n      let messages = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n      dispatch(setNonFieldError(messages));\r\n    }\r\n      \r\n}\r\n\r\nexport const getCaptchaUrl = () => async(dispatch) => {\r\n  const response = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = response.data.url;\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n  \r\n}\r\n\r\nexport const logout = () => async(dispatch) => {\r\n  let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false))\r\n    };\r\n}\r\n\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({type:SET_USER_DATA, payload: {id, email, login, isAuth}})\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type:GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}})\r\nexport const setNonFieldError = (error) => ({type:SET_NON_FIELD_ERROR, payload: {error}})\r\n\r\nexport default authReducer;\r\n","import { getAuthUserData } from \"./auth-reducer\";\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED-SUCCESS\";\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializeApp = () => {\r\n  return (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n      dispatch(initializedSuccess());\r\n    });\r\n  };\r\n};\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport default appReducer;\r\n","import { usersAPI } from '../api/api';\r\nconst SET_FRIENDS = 'SET-FRIENDS';\r\nconst SET_CURRENT_PAGE_FRIENDS = 'SET-CURRENT-PAGE-FRIENDS';\r\nconst SET_TOTAL_FRIENDS_COUNT = 'SET-TOTAL-FRIENDS-COUNT';\r\nconst TOGGLE_IS_FETCHING_FRIENDS = 'TOGGLE-IS-FETCHING-FRIENDS';\r\nconst TOGGLE_IS_REMOVING_PROGRESS = 'TOGGLE-IS-REMOVING-PROGRESS';\r\nconst CLEAR_IN_FOLLOWING_PROGRESS = 'CLEAR_IN_FOLLOWING_PROGRESS';\r\nconst DELETE_FREND = 'DELETE-FREND';\r\nconst CHANGE_PAGE_SIZE_FRIENDS = 'CHANGE-PAGE-SIZE-FRIENDS';\r\n\r\nlet initialState = {\r\n  friends: [],\r\n  pageSizeFriends: 5,\r\n  totalFriendsCount: 0,\r\n  currentPageFriends: 1,\r\n  isFetchingFriends: false,\r\n  unFollowingInProgress: [],\r\n};\r\n\r\nconst friendReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_FRIENDS:\r\n      return {\r\n        ...state,\r\n        friends: action.friends,\r\n      };\r\n\r\n    case DELETE_FREND:\r\n      return {\r\n        ...state,\r\n        friends: state.friends.filter((friend) => {\r\n          if (friend.id !== action.id) {\r\n            return {\r\n              ...friend,\r\n            };\r\n          }\r\n          return null;\r\n        }),\r\n      };\r\n\r\n    case SET_CURRENT_PAGE_FRIENDS:\r\n      return {\r\n        ...state,\r\n        currentPageFriends: action.currentPageFriends,\r\n        isFetchingFriends: true,\r\n      };\r\n    case SET_TOTAL_FRIENDS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalFriendsCount: action.totalFriendsCount,\r\n      };\r\n    case TOGGLE_IS_FETCHING_FRIENDS:\r\n      return {\r\n        ...state,\r\n        isFetchingFriends: action.isFetchingFriends,\r\n      };\r\n    case TOGGLE_IS_REMOVING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        unFollowingInProgress: action.isFetchingFriends\r\n          ? [...state.unFollowingInProgress, action.friendId]\r\n          : state.unFollowingInProgress.filter((id) => id !== action.friendId),\r\n      };\r\n    case CLEAR_IN_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        unFollowingInProgress: [],\r\n      };\r\n\r\n    case CHANGE_PAGE_SIZE_FRIENDS:\r\n      return {\r\n        ...state,\r\n        pageSizeFriends: action.pageSizeFriends,\r\n        isFetchingFriends: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setFriends = (friends) => ({ type: SET_FRIENDS, friends });\r\nexport const setCurrentPageFriends = (currentPageFriends) => ({\r\n  type: SET_CURRENT_PAGE_FRIENDS,\r\n  currentPageFriends,\r\n});\r\nexport const setTotalFriendsCount = (totalFriendsCount) => ({\r\n  type: SET_TOTAL_FRIENDS_COUNT,\r\n  totalFriendsCount,\r\n});\r\nexport const toggleIsFetching = (isFetchingFriends) => ({\r\n  type: TOGGLE_IS_FETCHING_FRIENDS,\r\n  isFetchingFriends,\r\n});\r\nexport const toggleUnFollowingProgress = (isFetchingFriends, friendId) => ({\r\n  type: TOGGLE_IS_REMOVING_PROGRESS,\r\n  isFetchingFriends,\r\n  friendId,\r\n});\r\nexport const clearInFollowingProgress = () => ({ type: CLEAR_IN_FOLLOWING_PROGRESS });\r\nexport const deleteFrend = (id) => ({ type: DELETE_FREND, id });\r\nexport const changePageSizeFriends = (pageSizeFriends) => ({\r\n  type: CHANGE_PAGE_SIZE_FRIENDS,\r\n  pageSizeFriends,\r\n});\r\n\r\nexport const requestFriends = (currentPageFriends, pageSizeFriends) => {\r\n  return async (dispatch) => {\r\n    // dispatch(toggleIsFetching(true));\r\n    let data = await usersAPI.getFriends(currentPageFriends, pageSizeFriends);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setFriends(data.items));\r\n    dispatch(setTotalFriendsCount(data.totalCount));\r\n    dispatch(clearInFollowingProgress());\r\n  };\r\n};\r\n\r\nexport const unFollowFriends = (friendId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleUnFollowingProgress(true, friendId));\r\n    let response = await usersAPI.unfollow(friendId);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(deleteFrend(friendId));\r\n    }\r\n  };\r\n};\r\n\r\nexport default friendReducer;\r\n","import {applyMiddleware, combineReducers, createStore, compose} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\nimport friendReducer from \"./friends-reducer\";\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    friends: friendReducer,\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store\r\nexport default store;","import React from 'react';\r\nimport {Pagination, Row, Col} from 'antd';\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, isFetching, onSetCurrentPage, onChangePageSize}) => {\r\n\r\n  const onShowSizeChange = (__, pageSize) => {\r\n    onChangePageSize(pageSize)\r\n  };\r\n  const onChange = (currentPage) => {\r\n    onSetCurrentPage(currentPage)\r\n  };\r\n\r\n  return (\r\n    <Row justify='center'>\r\n      <Col>\r\n        <Pagination\r\n          responsive\r\n          disabled={isFetching}\r\n          style={{textAlign: 'center', marginBottom: '2rem'}}\r\n          pageSizeOptions={[5, 10, 15, 20, 50]}\r\n          pageSize={pageSize}\r\n          current={currentPage}\r\n          total={totalItemsCount}\r\n          onShowSizeChange={onShowSizeChange}\r\n          showSizeChanger\r\n          onChange={onChange}\r\n          showQuickJumper\r\n          showTotal={(total, range) => `${range[0]}-${range[1]} of ${total} items`}\r\n        />\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport logo from '../../../assets/img/logo.png';\r\nimport {Link} from 'react-router-dom';\r\nimport {follow_button, user_list} from './User.module.scss';\r\nimport {List, Button, Row, Col, Skeleton} from 'antd';\r\nimport {\r\n  UserDeleteOutlined,\r\n  MessageOutlined,\r\n  GithubOutlined,\r\n  UserAddOutlined,\r\n} from '@ant-design/icons';\r\n\r\nlet User = (props) => {\r\n  const {user, followingInProgress, onUnfollow, onFollow, isFetching} = props;\r\n  const handleFollowUnfollow = (followed, id) => {\r\n    if (followed) {\r\n      onUnfollow(id);\r\n    } else {\r\n      onFollow(id);\r\n    }\r\n  };\r\n  return (\r\n    <Row justify=\"center\">\r\n      <Col xs={24} sm={24} md={18} lg={14} xl={12} xxl={10}>\r\n        <List\r\n          className={user_list}\r\n          itemLayout=\"vertical\"\r\n          size=\"large\"\r\n          dataSource={user}\r\n          renderItem={(item) => (\r\n            <List.Item\r\n              key={item.id}\r\n              actions={\r\n                !isFetching && [\r\n                  <Button\r\n                    className={follow_button}\r\n                    onClick={() => handleFollowUnfollow(item.followed, item.id)}\r\n                    disabled={followingInProgress.some((id) => id === item.id)}\r\n                    type=\"dashed\"\r\n                    shape=\"round\"\r\n                    icon={item.followed ? <UserDeleteOutlined/> : <UserAddOutlined/>}>\r\n                    {item.followed ? 'Unfollow' : 'Follow'}\r\n                  </Button>,\r\n                  <Button\r\n                    type=\"dashed\"\r\n                    shape=\"round\"\r\n                    disabled={true}\r\n                    icon={<GithubOutlined/>}/>,\r\n                  <Link to={`/dialogs`}>\r\n                    <Button\r\n                      type=\"dashed\"\r\n                      shape=\"round\"\r\n                      disabled={true}\r\n                      icon={<MessageOutlined/>}/>\r\n                  </Link>,\r\n                ]\r\n              }\r\n              extra={\r\n                !isFetching && (\r\n                  <Link to={`/profile/` + item.id}>\r\n                    <img\r\n                      width={100}\r\n                      style={{borderRadius: '50%'}}\r\n                      alt=\"logo\"\r\n                      src={item.photos.small !== null ? item.photos.small : logo}\r\n                    />\r\n                  </Link>\r\n                )\r\n              }>\r\n              <Skeleton loading={isFetching} active shape>\r\n                <List.Item.Meta\r\n                  title={<Link to={`/profile/` + item.id}>{item.name}</Link>}\r\n                  description={item.status}\r\n                />\r\n              </Skeleton>\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport Paginator from '../../common/Paginator/Paginator';\r\nimport User from './User/User';\r\n\r\nlet Users = React.memo(\r\n  (props) => {\r\n    const {currentPage, totalUsersCount, pageSize, isFetching, users, onFollow, onUnfollow, followingInProgress, onChangePageSize, onSetCurrentPage} = props;\r\n    return (\r\n      <>\r\n        <h1>Users</h1>\r\n        <Paginator\r\n          currentPage={currentPage}\r\n          isFetching={isFetching}\r\n          totalItemsCount={totalUsersCount}\r\n          pageSize={pageSize}\r\n          onChangePageSize={onChangePageSize}\r\n          onSetCurrentPage={onSetCurrentPage}\r\n        />\r\n        <User\r\n          user={users}\r\n          followingInProgress={followingInProgress}\r\n          onFollow={onFollow}\r\n          onUnfollow={onUnfollow}\r\n          isFetching={isFetching}\r\n        />\r\n      </>\r\n    );\r\n  },\r\n);\r\n\r\nexport default Users;\r\n","import React, {useEffect} from 'react';\r\nimport {\r\n  follow,\r\n  unFollow,\r\n  requestUsers,\r\n  changePageSize,\r\n  setCurrentPage,\r\n} from '../../redux/users-reducer';\r\nimport UsersPage from './UsersPage';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\n\r\nconst UsersContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const users = useSelector(({usersPage}) => usersPage.users);\r\n  const pageSize = useSelector(({usersPage}) => usersPage.pageSize);\r\n  const currentPage = useSelector(({usersPage}) => usersPage.currentPage);\r\n  const isFetching = useSelector(({usersPage}) => usersPage.isFetching);\r\n  const followingInProgress = useSelector(({usersPage}) => usersPage.followingInProgress);\r\n  const totalUsersCount = useSelector(({usersPage}) => usersPage.totalUsersCount);\r\n\r\n  useEffect(() => {\r\n    dispatch(requestUsers(currentPage, pageSize));\r\n  }, [dispatch, currentPage, pageSize]);\r\n\r\n  const onUnfollow = (id) => {\r\n    dispatch(unFollow(id));\r\n  };\r\n\r\n\r\n  const onFollow = (id) => {\r\n    dispatch(follow(id));\r\n  };\r\n\r\n  const onChangePageSize = (pageSize) => {\r\n    dispatch(changePageSize(pageSize));\r\n  };\r\n\r\n\r\n  const onSetCurrentPage = (currentPage) => {\r\n    dispatch(setCurrentPage(currentPage));\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <UsersPage\r\n        totalUsersCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n        currentPage={currentPage}\r\n        users={users}\r\n        onUnfollow={onUnfollow}\r\n        onFollow={onFollow}\r\n        followingInProgress={followingInProgress}\r\n        isFetching={isFetching}\r\n        onChangePageSize={onChangePageSize}\r\n        onSetCurrentPage={onSetCurrentPage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UsersContainer;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Button, Row, Col } from 'antd';\r\nimport { LoginOutlined, LogoutOutlined } from '@ant-design/icons';\r\n\r\nconst HeaderPage = (props) => {\r\n  let history = useHistory();\r\n  const { isAuth, login, onLogout } = props;\r\n\r\n  const handleLoginLogout = () => {\r\n    if (isAuth) {\r\n      onLogout();\r\n    } else {\r\n      history.push('/login');\r\n    }\r\n  };\r\n  return (\r\n    <Row style={{ width: '100%' }} justify=\"space-between\">\r\n      <Col>\r\n        <h3>{isAuth ? login : 'Join us!'}</h3>\r\n      </Col>\r\n      <Col>\r\n        <Button\r\n          className=\"btn-login-out\"\r\n          style={{ background: 'none' }}\r\n          type=\"dashed\"\r\n          shape=\"round\"\r\n          size=\"large\"\r\n          onClick={handleLoginLogout}\r\n          icon={isAuth ? <LogoutOutlined /> : <LoginOutlined />}>\r\n          {isAuth ? 'logout' : 'login'}\r\n        </Button>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default HeaderPage;\r\n","import React from 'react';\r\nimport HeaderPage from './HeaderPage';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\nimport { Layout } from 'antd';\r\nconst { Header } = Layout;\r\n\r\nconst style = {\r\n  background: 'none',\r\n  boxShadow: '0 0 10px rgba(0, 0, 0, .2)',\r\n  padding: '20px',\r\n  margin: '0 16px',\r\n  lineHeight: 'normal',\r\n  display: 'flex',\r\n  alignItems:'center'\r\n};\r\n\r\nconst HeaderContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const isAuth = useSelector(({ auth }) => auth.isAuth);\r\n  const login = useSelector(({ auth }) => auth.login);\r\n\r\n  const onLogout = () => {\r\n    dispatch(logout());\r\n  };\r\n\r\n  return (\r\n    <Header style={style}>\r\n      <HeaderPage isAuth={isAuth} login={login} onLogout={onLogout} />\r\n    </Header>\r\n  );\r\n};\r\n\r\nexport default HeaderContainer;\r\n","import React from 'react';\r\nimport {friend_card} from './Friend.module.scss';\r\nimport logo from '../../../assets/img/logo.png';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {Card, Row, Col, Button, Popconfirm} from 'antd';\r\nimport {GithubOutlined, UserDeleteOutlined, MessageOutlined} from '@ant-design/icons';\r\n\r\nconst {Meta} = Card;\r\nlet Friend = ({friends, unFollowingInProgress, onUnFollowFriend, isFetchingFriends}) => {\r\n  const handleUnFollowFriend = (id) => {\r\n    onUnFollowFriend(id);\r\n  };\r\n  return (\r\n    <Row justify=\"center\">\r\n      {friends.map((item) => {\r\n        return (\r\n          <Col\r\n            xs={24}\r\n            sm={24}\r\n            md={12}\r\n            lg={8}\r\n            xl={6}\r\n            style={{display: 'flex', justifyContent: 'space-around'}}\r\n            key={item.id}>\r\n            <Card\r\n              className={friend_card}\r\n              loading={isFetchingFriends}\r\n              hoverable\r\n              size=\"small\"\r\n              style={{\r\n                maxWidth: '200px',\r\n                marginBottom: '2rem',\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                flexDirection: 'column',\r\n              }}\r\n              cover={\r\n                !isFetchingFriends && (\r\n                  <NavLink to={`/profile/` + item.id}>\r\n                    <img alt=\"logo\" src={item.photos.large !== null ? item.photos.large : logo}/>\r\n                  </NavLink>\r\n                )\r\n              }\r\n              actions={[\r\n                <Popconfirm\r\n                  title={`Are you sure to delete ${item.name}?`}\r\n                  onConfirm={() => handleUnFollowFriend(item.id)}\r\n                  okText=\"Delete\"\r\n                  cancelText=\"No way!\">\r\n                  <Button\r\n                    type=\"dashed\"\r\n                    shape=\"round\"\r\n                    disabled={unFollowingInProgress.some((id) => id === item.id)}\r\n                    icon={<UserDeleteOutlined/>}/>\r\n                </Popconfirm>,\r\n                <NavLink to={`/dialogs/${item.id}`}>\r\n                  <Button type=\"dashed\" shape=\"round\" icon={<MessageOutlined/>}/>\r\n                </NavLink>,\r\n                <Button type=\"dashed\" shape=\"round\" icon={<GithubOutlined/>}/>,\r\n              ]}>\r\n              <Meta title={item.name} description={item.status}/>\r\n            </Card>\r\n          </Col>\r\n        );\r\n      })}\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default Friend;\r\n","import React from 'react';\r\nimport Paginator from '../../common/Paginator/Paginator';\r\nimport Friend from './Friend/Friend';\r\n\r\nlet Friends = React.memo(\r\n  ({\r\n    isFetchingFriends,\r\n    currentPageFriends,\r\n    totalFriendsCount,\r\n    pageSizeFriends,\r\n    friends,\r\n    unFollowingInProgress,\r\n    onUnFollowFriend,\r\n    onSetCurrentPage,\r\n    onChangePageSize,\r\n  }) => {\r\n    return (\r\n      <>\r\n        <h1>Friends</h1>\r\n        <Paginator\r\n          currentPage={currentPageFriends}\r\n          totalItemsCount={totalFriendsCount}\r\n          pageSize={pageSizeFriends}\r\n          onSetCurrentPage={onSetCurrentPage}\r\n          onChangePageSize={onChangePageSize}\r\n          isFetching={isFetchingFriends}\r\n        />\r\n        <Friend\r\n          isFetchingFriends={isFetchingFriends}\r\n          friends={friends}\r\n          unFollowingInProgress={unFollowingInProgress}\r\n          onUnFollowFriend={onUnFollowFriend}\r\n        />\r\n      </>\r\n    );\r\n  },\r\n);\r\n\r\nexport default Friends;\r\n","import React, { useEffect} from 'react';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport {\r\n  setCurrentPageFriends,\r\n  requestFriends,\r\n  unFollowFriends,\r\n  changePageSizeFriends,\r\n} from '../../redux/friends-reducer';\r\nimport Friends from './FriendsPage';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst FriendsContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const friends = useSelector(({ friends }) => friends.friends);\r\n  const totalFriendsCount = useSelector(({ friends }) => friends.totalFriendsCount);\r\n  const pageSizeFriends = useSelector(({ friends }) => friends.pageSizeFriends);\r\n  const currentPageFriends = useSelector(({ friends }) => friends.currentPageFriends);\r\n  const isFetchingFriends = useSelector(({ friends }) => friends.isFetchingFriends);\r\n  const unFollowingInProgress = useSelector(({ friends }) => friends.unFollowingInProgress);\r\n\r\n  useEffect(() => {\r\n    dispatch(requestFriends(currentPageFriends, pageSizeFriends));\r\n  }, [currentPageFriends, pageSizeFriends, dispatch]);\r\n\r\n  const onUnFollowFriend = (id) => {\r\n    dispatch(unFollowFriends(id));\r\n  };\r\n\r\n  const onChangePageSize = (pageSize) => {\r\n    dispatch(changePageSizeFriends(pageSize));\r\n  };\r\n\r\n  const onSetCurrentPage = (currentPage) => {\r\n    dispatch(setCurrentPageFriends(currentPage));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Friends\r\n        totalFriendsCount={totalFriendsCount}\r\n        pageSizeFriends={pageSizeFriends}\r\n        currentPageFriends={currentPageFriends}\r\n        isFetchingFriends={isFetchingFriends}\r\n        friends={friends}\r\n        unFollowingInProgress={unFollowingInProgress}\r\n        onUnFollowFriend={onUnFollowFriend}\r\n        onChangePageSize={onChangePageSize}\r\n        onSetCurrentPage={onSetCurrentPage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default compose(withAuthRedirect)(FriendsContainer);\r\n","import React, { useEffect } from 'react';\r\nimport { Form, Input, Button, Checkbox, notification, Row, Col, Typography } from 'antd';\r\nimport {\r\n  UserOutlined,\r\n  LockOutlined,\r\n  InfoCircleOutlined,\r\n  SortDescendingOutlined,\r\n} from '@ant-design/icons';\r\nconst { Text } = Typography;\r\nconst layout = {\r\n  labelCol: {\r\n    span: 5,\r\n  },\r\n  wrapperCol: {\r\n    span: 19,\r\n  },\r\n};\r\nconst tailLayout = {\r\n  wrapperCol: {\r\n    offset: 5,\r\n    span: 19,\r\n  },\r\n};\r\n\r\nconst LoginForm = ({ error, captchaUrl, onLogin, clearError }) => {\r\n  const openNotification = (error) => {\r\n    notification.open({\r\n      duration: 3,\r\n      description: 'Please check your credentials and try again!',\r\n      message: error,\r\n      icon: <InfoCircleOutlined style={{ color: 'red' }} />,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      openNotification(error);\r\n      clearError(null);\r\n    }\r\n  }, [error, clearError]);\r\n\r\n  const onFinish = (values) => {\r\n    onLogin(values.email, values.password, values.rememberMe, values.captcha);\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n  return (\r\n    <>\r\n      <h1>Sign In</h1>\r\n      <Row justify=\"center\">\r\n        <Col span={24}>\r\n          <Form\r\n            style={{ margin: '0 auto', maxWidth: '500px', marginTop: '50px' }}\r\n            {...layout}\r\n            name=\"login\"\r\n            initialValues={{\r\n              rememberMe: true,\r\n            }}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}>\r\n            {captchaUrl && (\r\n              <>\r\n                <Row>\r\n                  <Col xs={24} sm={{ span: 19, offset: 5 }}>\r\n                    <img\r\n                      src={captchaUrl}\r\n                      alt=\"captcha\"\r\n                      style={{ margin: '0 auto', display: 'block', marginBottom: '10px' }}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n                <Form.Item\r\n                  label=\"Captcha\"\r\n                  name=\"captcha\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: 'Please input your Captcha!',\r\n                    },\r\n                  ]}>\r\n                  <Input\r\n                    type=\"text\"\r\n                    prefix={<SortDescendingOutlined className=\"site-form-item-icon\" />}\r\n                  />\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n            <Row>\r\n              <Col xs={24} sm={{ span: 19, offset: 5 }} style={{ marginBottom: '10px' }}>\r\n                <Text strong>\r\n                  For test use email: free@samuraijs.com\r\n                </Text>\r\n              </Col>\r\n            </Row>\r\n            <Form.Item\r\n              label=\"Email\"\r\n              name=\"email\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your email!',\r\n                },\r\n              ]}>\r\n              <Input autoComplete=\"username\" prefix={<UserOutlined className=\"site-form-item-icon\" />} type=\"email\" />\r\n            </Form.Item>\r\n            <Row>\r\n              <Col xs={24} sm={{ span: 19, offset: 5 }} style={{ marginBottom: '10px' }}>\r\n                <Text strong>\r\n                  Password: free\r\n                </Text>\r\n              </Col>\r\n            </Row>\r\n            <Form.Item\r\n              label=\"Password\"\r\n              name=\"password\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Please input your password!',\r\n                },\r\n              ]}>\r\n              <Input.Password autoComplete=\"new-password\" prefix={<LockOutlined className=\"site-form-item-icon\" />} />\r\n            </Form.Item>\r\n            <Form.Item {...tailLayout} name=\"rememberMe\" valuePropName=\"checked\">\r\n              <Checkbox>Remember me</Checkbox>\r\n            </Form.Item>\r\n            <Form.Item {...tailLayout}>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                Submit\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\r\nimport LoginForm from './LoginForm';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {login, setNonFieldError} from '../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router';\r\n\r\nconst LoginContainer = () => {\r\n  const dispatch = useDispatch();\r\n  const isAuth = useSelector(({auth}) => auth.isAuth);\r\n  const captchaUrl = useSelector(({auth}) => auth.captchaUrl);\r\n  const error = useSelector(({auth}) => auth.error);\r\n\r\n  const onLogin = (email, password, rememberMe, captcha) => {\r\n    dispatch(login(email, password, rememberMe, captcha));\r\n  };\r\n\r\n  const clearError = (error) => {\r\n    dispatch(setNonFieldError(error));\r\n  }\r\n\r\n\r\n  if (isAuth) {\r\n    return <Redirect to={'/profile'}/>;\r\n  }\r\n\r\n  return (\r\n    <LoginForm\r\n      isAuth={isAuth}\r\n      captchaUrl={captchaUrl}\r\n      onLogin={onLogin}\r\n      error={error}\r\n      clearError={clearError}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoginContainer;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Menu } from 'antd';\r\nimport {\r\n  UserOutlined,\r\n  MessageOutlined,\r\n  TeamOutlined,\r\n  UsergroupAddOutlined,\r\n} from '@ant-design/icons';\r\n\r\nconst navStyle = {\r\n  position: 'sticky',\r\n  top: '11%',\r\n  background: 'none',\r\n  fontSize: '17px',\r\n};\r\nconst iconStyle = { fontSize: '17px' };\r\n\r\nconst navigationLinks = [\r\n  {\r\n    key: 0,\r\n    slug: '/profile',\r\n    icon: <UserOutlined style={iconStyle} />,\r\n    title: 'Profile',\r\n  },\r\n  {\r\n    key: 1,\r\n    slug: '/users',\r\n    icon: <TeamOutlined style={iconStyle} />,\r\n    title: 'Users',\r\n  },\r\n  {\r\n    key: 2,\r\n    slug: '/friends',\r\n    icon: <UsergroupAddOutlined style={iconStyle} />,\r\n    title: 'Friends',\r\n  },\r\n  {\r\n    key: 3,\r\n    slug: '/dialogs',\r\n    icon: <MessageOutlined style={iconStyle} />,\r\n    title: 'Dialogs',\r\n  },\r\n];\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <Menu theme=\"light\" mode=\"inline\" defaultSelectedKeys={['0']} style={navStyle}>\r\n      {navigationLinks.map((item) => {\r\n        return (\r\n          <Menu.Item key={item.key} icon={item.icon}>\r\n            <NavLink to={item.slug}>{item.title}</NavLink>\r\n          </Menu.Item>\r\n        );\r\n      })}\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React, { useState } from 'react';\r\nimport {trigger} from './Sidebar.module.scss';\r\nimport Navigation from './Navigation/Navigation';\r\nimport { Layout } from 'antd';\r\nimport { MenuUnfoldOutlined, MenuFoldOutlined } from '@ant-design/icons';\r\n\r\nconst style = {\r\n  background: 'none',\r\n  boxShadow: '0 0 10px rgba(0, 0, 0, .2)',\r\n  marginBottom: '24px',\r\n};\r\nconst { Sider } = Layout;\r\n\r\nconst Sidebar = () => {\r\n  const [collapsed, setCollapsed] = useState(true);\r\n\r\n  const toggle = () => {\r\n    setCollapsed(!collapsed);\r\n  };\r\n  return (\r\n    <Sider trigger={null} collapsible collapsed={collapsed} theme=\"light\" style={style}>\r\n      {React.createElement(collapsed ? MenuUnfoldOutlined : MenuFoldOutlined, {\r\n        className: trigger,\r\n        onClick: toggle,\r\n      })}\r\n      <Navigation />\r\n    </Sider>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from \"react\";\r\nimport Preloader from \"../common/Preloder/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <React.Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n      </React.Suspense>\r\n    );\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { Route, withRouter, HashRouter, Switch, Redirect } from 'react-router-dom';\r\nimport store from '../../redux/redux-store';\r\nimport UsersContainer from '../Users/UsersContainer';\r\nimport Header from '../Header/HeaderContainer';\r\nimport FriendsContainer from '../Friends/FriendsContainer';\r\nimport Login from '../Login/LoginContainer';\r\nimport Sidebar from '../Sidebar/Sidebar';\r\nimport { compose } from 'redux';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { initializeApp } from '../../redux/app-reducer';\r\nimport Preloader from '../../common/Preloder/Preloader';\r\nimport { withSuspense } from '../../hoc/withSuspense';\r\nimport 'antd/dist/antd.css';\r\nimport { Layout } from 'antd';\r\n\r\nconst { Content } = Layout;\r\nconst DialogsContainer = React.lazy(() => import('../Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('../Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n  catchAllUnhandledErrors = (promiseRejectionEven) => {\r\n    console.error(promiseRejectionEven);\r\n  };\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />;\r\n    }\r\n    return (\r\n      <Layout>\r\n        <Sidebar />\r\n        <Layout>\r\n          <Header />\r\n          <Content>\r\n            <Switch>\r\n              <Route exact path=\"/\" render={() => <Redirect to={'/profile'} />} />\r\n              <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)} />\r\n              <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\r\n              <Route path=\"/users\" render={() => <UsersContainer />} />\r\n              <Route path=\"/friends\" render={() => <FriendsContainer />} />\r\n              <Route path=\"/login\" render={() => <Login />} />\r\n              <Route path=\"*\" render={() => <section>404 not found</section>} />\r\n            </Switch>\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.app.initialized,\r\n  };\r\n};\r\n\r\nlet AppContainer = compose(withRouter, connect(mapStateToProps, { initializeApp }))(App);\r\n\r\nconst MainApp = (props) => {\r\n  return (\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default MainApp;\r\n","import * as serviceWorker from \"./serviceWorker\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./style/app.scss\";\r\nimport MainApp from \"../src/component/App/App\";\r\n\r\nReactDOM.render(\r\n      <MainApp />,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}