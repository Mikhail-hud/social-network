(this.webpackJsonpmy_app=this.webpackJsonpmy_app||[]).push([[3],{292:function(e,t,a){e.exports={myposts:"MyPosts_myposts__1DCSH",myposts_tx:"MyPosts_myposts_tx__2VRlE",myposts_tx_btn:"MyPosts_myposts_tx_btn__3psjr",myposts_tx_in:"MyPosts_myposts_tx_in__1ByJh",myposts_tx_in_error:"MyPosts_myposts_tx_in_error__2-anf"}},294:function(e,t,a){e.exports={profile:"ProfileInfo_profile__3VXxi",profile_card:"ProfileInfo_profile_card__3IYeR",profile_card_avatar:"ProfileInfo_profile_card_avatar__3fnn1",profile_container:"ProfileInfo_profile_container__KUcGP",custom_file_upload:"ProfileInfo_custom_file_upload__1kz6Y",none:"ProfileInfo_none__2bxvn"}},295:function(e,t,a){e.exports=a.p+"static/media/logo-main.50953027.png"},296:function(e,t,a){e.exports={status:"ProfileStatus_status__JjjQW",profile_status:"ProfileStatus_profile_status__142ef"}},297:function(e,t,a){e.exports={profile_form:"ProfileDataForm_profile_form__2DkZj",profile_form_save:"ProfileDataForm_profile_form_save__6RFtO",form_check:"ProfileDataForm_form_check__Rmozo",error:"ProfileDataForm_error__1UX9p"}},298:function(e,t,a){e.exports={posts:"Posts_posts__3SzYf",posts_logo:"Posts_posts_logo__2ylsm",posts_text:"Posts_posts_text__1ku7w",posts_count:"Posts_posts_count__35RCX",posts_likes:"Posts_posts_likes__6PTlu"}},299:function(e,t,a){e.exports=a.p+"static/media/user.50953027.png"},300:function(e,t,a){"use strict";a.r(t);var o=a(36),n=a(37),r=a(39),s=a(38),l=a(0),c=a.n(l),i=a(16),u=a(10),p=a(97),m=a(66),f=a(294),_=a.n(f),E=a(295),d=a.n(E),b=a(41),h=a(296),P=a.n(h),y=function(e){var t=Object(l.useState)(!1),a=Object(m.a)(t,2),o=a[0],n=a[1],r=Object(l.useState)(e.status),s=Object(m.a)(r,2),i=s[0],u=s[1];Object(l.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",{className:P.a.status},o?c.a.createElement("div",null,c.a.createElement("input",{onChange:function(e){u(e.target.value)},autoFocus:!0,defaultValue:i,onBlur:function(){n(!1),e.updateStatus(i)}})):c.a.createElement("div",null,c.a.createElement("span",{className:P.a.profile_status,onDoubleClick:function(){n(!0)}},i||"Dubl click to change your status!!!")))},g=a(129),v=a(130),k=a(297),O=a.n(k),j=Object(v.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.goToEditMode,o=e.profile,n=e.error;return c.a.createElement("form",{className:O.a.profile_form,onSubmit:t},c.a.createElement("label",{className:O.a.profile_form_save},c.a.createElement("button",{onClick:a},"Save changes!")),n&&c.a.createElement("label",{className:O.a.error},c.a.createElement("p",null,n)),c.a.createElement("label",null,c.a.createElement("span",null,"Looking for a job: "),c.a.createElement(g.a,{className:O.a.form_check,type:"checkbox",name:"lookingForAJob",component:"input"})),c.a.createElement("label",null,c.a.createElement("span",null,"Your full name: "),c.a.createElement(g.a,{placeholder:"Type here!",name:"fullName",component:"input"})),c.a.createElement("label",null,c.a.createElement("span",null,"About You: : "),c.a.createElement(g.a,{placeholder:"Type here!",type:"textarea",name:"aboutMe",component:"input"})),c.a.createElement("label",null,c.a.createElement("span",null,"Your skills : "),c.a.createElement(g.a,{placeholder:"Type here!",type:"textarea",name:"lookingForAJobDescription",component:"input"})),c.a.createElement("h3",null,"Contacts:"),Object.keys(o.contacts).map((function(e){return c.a.createElement("label",{key:e},c.a.createElement("span",null,e),c.a.createElement(g.a,{placeholder:"Type here!",name:"contacts.".concat(e),component:"input"}))})))})),x=function(e){return c.a.createElement("div",{className:_.a.profile_container},e.isOwner&&c.a.createElement("div",null,c.a.createElement("button",{onClick:e.goToEditMode}," Edit profile!")),c.a.createElement("h2",null,e.profile.fullName),c.a.createElement("p",{className:e.profile.aboutMe?"":"".concat(_.a.none)},c.a.createElement("b",null,"About me:")," ",e.profile.aboutMe),c.a.createElement("p",null,c.a.createElement("b",null,"Looking for a job:")," ",e.profile.lookingForAJob?"Yes!":"No !"),e.profile.lookingForAJob&&c.a.createElement("p",null,c.a.createElement("b",null,"My skills:")," ",e.profile.lookingForAJobDescription),Object.keys(e.profile.contacts).map((function(t){return c.a.createElement(N,{contactTitle:t,key:t,contactValue:e.profile.contacts[t]})})))},N=function(e){var t=e.contactTitle,a=e.contactValue;return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:a?"":"".concat(_.a.none)},c.a.createElement("b",null,t,":")," ",a))},S=function(e){var t=Object(l.useState)(!1),a=Object(m.a)(t,2),o=a[0],n=a[1];if(!e.profile)return c.a.createElement(b.a,null);return c.a.createElement("section",{className:_.a.profile},c.a.createElement("aside",{className:_.a.profile_card},c.a.createElement("div",{className:_.a.profile_card_avatar},c.a.createElement("img",{src:e.profile.photos.large||d.a,alt:"avatar"}),e.isOwner&&c.a.createElement("label",{className:_.a.custom_file_upload},c.a.createElement("input",{onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},type:"file"}),c.a.createElement("i",null,"Update")),c.a.createElement(y,{status:e.status,updateStatus:e.updateStatus})),o?c.a.createElement(j,{initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){n(!1)}))},profile:e.profile}):c.a.createElement(x,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){n(!0)}})))},w=a(7),F=a(42),M=a(292),T=a.n(M),I=a(298),A=a.n(I),C=a(299),D=a.n(C),J=function(e){return c.a.createElement("div",{className:A.a.posts},c.a.createElement("div",{className:A.a.posts_logo},c.a.createElement("img",{src:D.a,alt:"user"})),c.a.createElement("div",{className:A.a.posts_text},c.a.createElement("p",null,e.massage),c.a.createElement("div",{className:A.a.posts_likes},c.a.createElement("i",{className:"far fa-heart"},c.a.createElement("span",{className:A.a.posts_count},e.likesCount)))))},U=a(69),Y=a(68),V=a(34),z=Object(U.a)(100),R=Object(v.a)({form:"profileAddNewPostForm",onSubmitSuccess:function(e,t){t(Object(V.a)("profileAddNewPostForm"))}})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("label",{className:T.a.myposts_tx},c.a.createElement(g.a,{className:T.a.myposts_tx_in,component:Y.b,name:"newPostText",validate:z})),c.a.createElement("label",null,c.a.createElement("button",{className:T.a.myposts_tx_btn,type:"submit"},"  Add post ")))})),X=function(e){var t=Object(F.a)(e.posts).reverse().map((function(e){return c.a.createElement(J,{massage:e.message,likesCount:e.likesCount,key:e.id})}));return c.a.createElement("section",{className:T.a.myposts},c.a.createElement("h2",null,"My posts"),c.a.createElement(R,{onSubmit:function(t){e.addPost(t.newPostText)}}),t)},B=Object(w.d)(Object(i.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(p.a)(t))}}})))(X),L=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Profile"),c.a.createElement(S,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),c.a.createElement(B,null))},G=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(L,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto})))}}]),a}(c.a.Component);t.default=Object(w.d)(Object(i.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:p.d,getStatus:p.c,updateStatus:p.g,savePhoto:p.e,saveProfile:p.f}),u.f)(G)}}]);
//# sourceMappingURL=3.9c562be9.chunk.js.map