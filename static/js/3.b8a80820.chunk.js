(this.webpackJsonpmy_app=this.webpackJsonpmy_app||[]).push([[3],{292:function(e,t,a){e.exports={myposts:"MyPosts_myposts__1DCSH",myposts_tx:"MyPosts_myposts_tx__2VRlE",myposts_tx_btn:"MyPosts_myposts_tx_btn__3psjr",myposts_tx_in:"MyPosts_myposts_tx_in__1ByJh",myposts_tx_in_error:"MyPosts_myposts_tx_in_error__2-anf"}},294:function(e,t,a){e.exports={profile:"ProfileInfo_profile__3VXxi",profile_card:"ProfileInfo_profile_card__3IYeR",profile_card_avatar:"ProfileInfo_profile_card_avatar__3fnn1",profile_container:"ProfileInfo_profile_container__KUcGP",none:"ProfileInfo_none__2bxvn",example_1:"ProfileInfo_example_1__3SCoW",label:"ProfileInfo_label__1iLNM",title:"ProfileInfo_title__3Jm4A"}},295:function(e,t,a){e.exports=a.p+"static/media/logo-main.50953027.png"},296:function(e,t,a){e.exports={status:"ProfileStatus_status__JjjQW",profile_status:"ProfileStatus_profile_status__142ef"}},297:function(e,t,a){e.exports={profile_form:"ProfileDataForm_profile_form__2DkZj",profile_form_save:"ProfileDataForm_profile_form_save__6RFtO",form_check:"ProfileDataForm_form_check__Rmozo",error:"ProfileDataForm_error__1UX9p"}},298:function(e,t,a){e.exports={posts:"Posts_posts__3SzYf",posts_logo:"Posts_posts_logo__2ylsm",posts_text:"Posts_posts_text__1ku7w",posts_count:"Posts_posts_count__35RCX",posts_likes:"Posts_posts_likes__6PTlu"}},299:function(e,t,a){e.exports=a.p+"static/media/user.50953027.png"},300:function(e,t,a){"use strict";a.r(t);var o=a(36),n=a(37),r=a(39),l=a(38),s=a(0),c=a.n(s),i=a(16),u=a(10),p=a(97),m=a(66),f=a(294),_=a.n(f),E=a(295),b=a.n(E),d=a(41),h=a(296),P=a.n(h),g=function(e){var t=Object(s.useState)(!1),a=Object(m.a)(t,2),o=a[0],n=a[1],r=Object(s.useState)(e.status),l=Object(m.a)(r,2),i=l[0],u=l[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",{className:P.a.status},o?c.a.createElement("div",null,c.a.createElement("input",{onChange:function(e){u(e.target.value)},autoFocus:!0,defaultValue:i,onBlur:function(){n(!1),e.updateStatus(i)}})):c.a.createElement("div",null,c.a.createElement("span",{className:P.a.profile_status,onDoubleClick:function(){n(!0)}},i||"Dubl click to change your status!!!")))},v=a(129),y=a(130),k=a(297),x=a.n(k),N=Object(y.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.goToEditMode,o=e.profile,n=e.error;return c.a.createElement("form",{className:x.a.profile_form,onSubmit:t},c.a.createElement("label",{className:x.a.profile_form_save},c.a.createElement("button",{onClick:a},"Save changes!")),n&&c.a.createElement("label",{className:x.a.error},c.a.createElement("p",null,n)),c.a.createElement("label",null,c.a.createElement("span",null,"Looking for a job: "),c.a.createElement(v.a,{className:x.a.form_check,type:"checkbox",name:"lookingForAJob",component:"input"})),c.a.createElement("label",null,c.a.createElement("span",null,"Your full name: "),c.a.createElement(v.a,{placeholder:"Type here!",name:"fullName",component:"input"})),c.a.createElement("label",null,c.a.createElement("span",null,"About You: : "),c.a.createElement(v.a,{placeholder:"Type here!",type:"textarea",name:"aboutMe",component:"input"})),c.a.createElement("label",null,c.a.createElement("span",null,"Your skills : "),c.a.createElement(v.a,{placeholder:"Type here!",type:"textarea",name:"lookingForAJobDescription",component:"input"})),c.a.createElement("h3",null,"Contacts:"),Object.keys(o.contacts).map((function(e){return c.a.createElement("label",{key:e},c.a.createElement("span",null,e),c.a.createElement(v.a,{placeholder:"Type here!",name:"contacts.".concat(e),component:"input"}))})))})),O=function(e){return c.a.createElement("div",{className:_.a.profile_container},e.isOwner&&c.a.createElement("div",null,c.a.createElement("button",{onClick:e.goToEditMode}," Edit profile!")),c.a.createElement("h2",null,e.profile.fullName),c.a.createElement("p",{className:e.profile.aboutMe?"":"".concat(_.a.none)},c.a.createElement("b",null,"About me:")," ",e.profile.aboutMe),c.a.createElement("p",null,c.a.createElement("b",null,"Looking for a job:")," ",e.profile.lookingForAJob?"Yes!":"No !"),e.profile.lookingForAJob&&c.a.createElement("p",null,c.a.createElement("b",null,"My skills:")," ",e.profile.lookingForAJobDescription),Object.keys(e.profile.contacts).map((function(t){return c.a.createElement(j,{contactTitle:t,key:t,contactValue:e.profile.contacts[t]})})))},j=function(e){var t=e.contactTitle,a=e.contactValue;return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:a?"":"".concat(_.a.none)},c.a.createElement("b",null,t,":")," ",a))},S=function(e){var t=Object(s.useState)(!1),a=Object(m.a)(t,2),o=a[0],n=a[1];if(!e.profile)return c.a.createElement(d.a,null);return c.a.createElement("section",{className:_.a.profile},c.a.createElement("aside",{className:_.a.profile_card},e.isOwner&&c.a.createElement("div",{className:_.a.example_1},c.a.createElement("div",{className:_.a.form_group},c.a.createElement("label",{className:_.a.label},c.a.createElement("i",{className:"material-icons"},"add_a_photo"),c.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})))),c.a.createElement("div",{className:_.a.profile_card_avatar},c.a.createElement("img",{src:e.profile.photos.large||b.a,alt:"avatar"}),c.a.createElement(g,{status:e.status,updateStatus:e.updateStatus})),o?c.a.createElement(N,{initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){n(!1)}))},profile:e.profile}):c.a.createElement(O,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){n(!0)}})))},w=a(7),F=a(42),I=a(292),M=a.n(I),T=a(298),A=a.n(T),C=a(299),D=a.n(C),J=function(e){return c.a.createElement("div",{className:A.a.posts},c.a.createElement("div",{className:A.a.posts_logo},c.a.createElement("img",{src:D.a,alt:"user"})),c.a.createElement("div",{className:A.a.posts_text},c.a.createElement("p",null,e.massage),c.a.createElement("div",{className:A.a.posts_likes},c.a.createElement("i",{className:"far fa-heart"},c.a.createElement("span",{className:A.a.posts_count},e.likesCount)))))},U=a(69),V=a(68),Y=a(34),R=Object(U.a)(100),z=Object(y.a)({form:"profileAddNewPostForm",onSubmitSuccess:function(e,t){t(Object(Y.a)("profileAddNewPostForm"))}})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("label",{className:M.a.myposts_tx},c.a.createElement(v.a,{className:M.a.myposts_tx_in,component:V.b,name:"newPostText",validate:R})),c.a.createElement("label",null,c.a.createElement("button",{className:M.a.myposts_tx_btn,type:"submit"},"  Add post ")))})),L=function(e){var t=Object(F.a)(e.posts).reverse().map((function(e){return c.a.createElement(J,{massage:e.message,likesCount:e.likesCount,key:e.id})}));return c.a.createElement("section",{className:M.a.myposts},c.a.createElement("h2",null,"My posts"),c.a.createElement(z,{onSubmit:function(t){e.addPost(t.newPostText)}}),t)},X=Object(w.d)(Object(i.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(p.a)(t))}}})))(L),B=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Profile"),c.a.createElement(S,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),c.a.createElement(X,null))},W=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(B,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto})))}}]),a}(c.a.Component);t.default=Object(w.d)(Object(i.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:p.d,getStatus:p.c,updateStatus:p.g,savePhoto:p.e,saveProfile:p.f}),u.g)(W)}}]);
//# sourceMappingURL=3.b8a80820.chunk.js.map